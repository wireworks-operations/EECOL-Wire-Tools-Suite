<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' https://cdn.tailwindcss.com; style-src 'self' 'unsafe-inline' https://cdn.tailwindcss.com https://fonts.googleapis.com; font-src https://fonts.googleapis.com; img-src 'self' data:;">
    <title>EECOL Wire Weight Calculator</title>
    <!-- Load Tailwind CSS for modern, responsive styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Core Dependencies -->
    <script src="../../utils/print.js"></script>
    <script src="../../utils/modals.js"></script>
    <script src="../../utils/mobile-menu.js"></script>
    <link rel="stylesheet" href="../../../src/assets/css/eecol-theme.css">
    <link rel="stylesheet" href="../../assets/css/wire-weight-estimator.css">
</head>
<body class="p-3 sm:p-6 h-screen flex flex-col eecol-blue-bg relative">

    <!-- Main Container: Now uses flex-1 to take up available vertical space -->
    <div class="flex-1 w-full max-w-md md:max-w-xl lg:max-w-7xl xl:max-w-9xl bg-[#F0F8FF] p-4 sm:p-6 rounded-xl shadow-2xl mx-auto border-2 border-solid border-[#0058B3] overflow-hidden flex flex-col mb-16">

        <!-- EECOL 'E' Logo (SVG) -->
        <div class="flex justify-center mb-1">
            <svg width="48" height="48" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="text-[#0058B3] drop-shadow-lg eecol-logo-tilt">
                <circle cx="12" cy="12" r="11.35" fill="white" stroke="currentColor" stroke-width="2"/>
                <rect x="4" y="4" width="4" height="16" rx="1" fill="currentColor"/>
                <path d="M 8,6.5 C 12,5.5 16,7.5 20,6.5" stroke="currentColor" stroke-width="3.5" stroke-linecap="round"/>
                <path d="M 8,12 C 12,11 16,13 20,12" stroke="currentColor" stroke-width="3.5" stroke-linecap="round"/>
                <path d="M 8,17.5 C 12,16.5 16,18.5 20,17.5" stroke="currentColor" stroke-width="3.5" stroke-linecap="round"/>
            </svg>
        </div>

        <!-- Tool Title Area -->
        <h1 class="text-3xl font-black mb-3 text-center header-gradient" id="toolTitle">
            EECOL Wire Weight Calculator
        </h1>
        <p class="mb-5 text-center text-sm font-medium text-[#0058B3]" id="toolSubtitle">
            Estimate the weight of wire based on length and specifications.
        </p>

        <!-- Tool Layout Container: Single column for inputs and results -->
        <div id="toolLayout" class="scroll-content-area">

            <!-- Left Column: Inputs -->
            <div>
                <!-- Tool Container: Wire Weight Calculator -->
                <div id="wireWeightTool" class="space-y-4">

                    <h3 class="text-lg font-bold text-[#0058B3] mb-3">Wire Specifications and Length</h3>

                    <!-- Length Input -->
                    <div class="shadow-md rounded-xl p-2 bg-white">
                        <label for="knownLength" class="block text-xs font-semibold mb-1 text-[#0058B3]">Known Length</label>
                        <div class="flex flex-col space-y-1 sm:flex-row sm:space-x-1 sm:space-y-0">
                            <input type="number" id="knownLength" placeholder="e.g., 500" value="500"
                                class="w-full p-2 border border-gray-300 rounded-lg focus:ring-4 focus:ring-indigo-300 focus:border-indigo-500 transition duration-150 shadow-inner text-sm">
                            <select id="lengthUnit" class="w-full sm:w-auto p-2 border border-gray-300 rounded-lg bg-white shadow-sm font-medium text-[#0058B3] text-sm">
                                <option value="m">Meters (m)</option>
                                <option value="ft">Feet (ft)</option>
                            </select>
                        </div>
                    </div>

                    <!-- Cable Type Input -->
                    <div class="shadow-md rounded-xl p-2 bg-white">
                        <label for="cableType" class="block text-xs font-semibold mb-1 text-[#0058B3]">Cable Type</label>
                        <select id="cableType" onchange="updateDropdowns()" class="w-full p-2 border border-gray-300 rounded-lg bg-white shadow-sm font-medium text-[#0058B3] text-sm">
                            <option value="">-- Select Cable Type --</option>
                            <option value="TK90">Teck 90 (TK)</option>
                            <option value="ACWU90">ACWU90</option>
                            <option value="RW90">RW90 (Building Wire)</option>
                            <option value="SOOW">SOOW (Portable Cord)</option>
                            <option value="BARE">BARE (Bare Copper)</option>
                        </select>
                    </div>

                    <!-- Gauge Input (UPDATED to Designation) -->
                    <div class="shadow-md rounded-xl p-2 bg-white">
                        <label for="wireDesignation" class="block text-xs font-semibold mb-1 text-[#0058B3]">Size / Conductor Count / Material</label>
                        <select id="wireDesignation" disabled class="w-full p-2 border border-gray-300 rounded-lg bg-white shadow-sm font-medium text-[#0058B3] text-sm bg-gray-100 cursor-not-allowed">
                            <option value="">-- Select Designation (e.g., 14/3CU) --</option>
                        </select>
                    </div>

                    <!-- Tare Weight Input with Unit Toggle -->
                    <div class="shadow-md rounded-xl p-2 bg-white">
                        <label for="tareWeight" class="block text-xs font-semibold mb-1 text-[#0058B3]">Reel/Drum Tare Weight (Empty Weight)</label>
                        <div class="flex flex-col space-y-1 sm:flex-row sm:space-x-1 sm:space-y-0">
                            <input type="number" id="tareWeight" placeholder="e.g., 250" value="0"
                                class="w-full p-2 border border-gray-300 rounded-lg focus:ring-4 focus:ring-indigo-300 focus:border-indigo-500 transition duration-150 shadow-inner text-sm">
                            <select id="tareWeightUnit" class="w-full sm:w-auto p-2 border border-gray-300 rounded-lg bg-white shadow-sm font-medium text-[#0058B3] text-sm">
                                <option value="lbs">lbs</option>
                                <option value="kg">kg</option>
                            </select>
                        </div>
                        <p class="text-xs text-gray-500 mt-1">Enter the weight of the empty reel. Unit conversions are automatic.</p>
                    </div>

                    <!-- Skid Tare Weight Input -->
                    <div class="shadow-md rounded-xl p-2 bg-white">
                        <label for="skidTareWeight" class="block text-xs font-semibold mb-1 text-[#0058B3]">Skid Tare Weight (Empty Weight)</label>
                        <div class="flex flex-col space-y-1 sm:flex-row sm:space-x-1 sm:space-y-0">
                            <input type="number" id="skidTareWeight" placeholder="e.g., 50" value="0"
                                class="w-full p-2 border border-gray-300 rounded-lg focus:ring-4 focus:ring-indigo-300 focus:border-indigo-500 transition duration-150 shadow-inner text-sm">
                            <select id="skidTareWeightUnit" class="w-full sm:w-auto p-2 border border-gray-300 rounded-lg bg-white shadow-sm font-medium text-[#0058B3] text-sm">
                                <option value="lbs">lbs</option>
                                <option value="kg">kg</option>
                            </select>
                        </div>
                        <p class="text-xs text-gray-500 mt-1">Enter the weight of the empty skid. Unit conversions are automatic.</p>
                    </div>

                    <!-- Calculation Buttons Container (UPDATED: px-1 changed to px-4) -->
                    <div class="pt-2 pb-3 px-4 flex flex-col space-y-2 sm:flex-row sm:space-y-0 sm:space-x-2">
                        <!-- Calculate Button -->
                        <button id="calculateWeightBtn" onclick="calculateWeight(true)"
                                class="sm:flex-1 bg-[#0058B3] hover:bg-[#004a99] text-white font-bold p-3 rounded-xl shadow-lg transition duration-200 ease-in-out transform hover:scale-[1.02] active:scale-[0.98] focus:outline-none focus:ring-4 focus:ring-[#0058B3] focus:ring-opacity-50 text-sm">
                            CALCULATE TOTAL WEIGHTS
                        </button>

                        <!-- Clear Button (New) -->
                        <button id="clearBtn" onclick="clearForm()"
                                class="sm:flex-none sm:w-1/3 bg-gray-200 hover:bg-gray-300 text-[#0058B3] font-bold p-3 rounded-xl shadow-lg transition duration-200 ease-in-out transform hover:scale-[1.02] active:scale-[0.98] focus:outline-none focus:ring-4 focus:ring-gray-400 focus:ring-opacity-50 text-sm">
                            CLEAR
                        </button>
                    </div>

                    <!-- Advanced Settings Section -->
                    <div class="shadow-md rounded-xl p-2 bg-white">
                        <button id="toggleAdvanced" type="button" onclick="toggleAdvancedSection()"
                                class="w-full text-left font-semibold text-[#0058B3] flex justify-between items-center py-2 px-2 hover:bg-blue-50 rounded-lg transition duration-150">
                            <span class="text-sm">Advanced Settings</span>
                            <span id="advancedToggle" class="text-lg">‚ñº</span>
                        </button>

                        <div id="advancedSettings" class="mt-3 space-y-3 hidden border-t border-gray-200 pt-3">
                            <!-- Calculation Mode Radio Buttons -->
                            <div class="shadow-md rounded-lg p-3 bg-gray-50">
                                <label class="block text-xs font-semibold mb-2 text-[#0058B3]">Calculation Method</label>
                                <div class="space-y-2">
                                    <label class="flex items-center p-1 hover:bg-white rounded transition duration-100">
                                        <input type="radio" id="lookupMode" name="advCalcMode" value="lookup" checked
                                               onchange="updateAdvancedCalculationMode()"
                                               class="mr-3 text-[#0058B3] focus:ring-[#0058B3] focus:ring-offset-0">
                                        <span class="text-sm font-medium text-[#0058B3]">Lookup Tables (Basic estimates)</span>
                                    </label>
                                    <label class="flex items-center p-1 hover:bg-white rounded transition duration-100">
                                        <input type="radio" id="engineeringMode" name="advCalcMode" value="engineering"
                                               onchange="updateAdvancedCalculationMode()"
                                               class="mr-3 text-[#0058B3] focus:ring-[#0058B3] focus:ring-offset-0">
                                        <span class="text-sm font-medium text-[#0058B3]">Engineering Model (Component calculations)</span>
                                    </label>
                                </div>
                            </div>

                            <!-- Component Specifications -->
                            <div id="componentInputs" class="shadow-md rounded-lg p-3 bg-gray-50 space-y-2 hidden">
                                <label class="block text-xs font-semibold text-[#0058B3] mb-3">Component Specifications</label>

                                <div class="grid grid-cols-1 sm:grid-cols-2 gap-3">
                                    <div class="space-y-1">
                                        <label class="block text-xs font-semibold text-[#0058B3]">Conductor Material</label>
                                        <select id="conductorMaterial" class="w-full p-2 border border-gray-300 rounded-lg bg-white shadow-sm font-medium text-[#0058B3] text-sm focus:ring-4 focus:ring-indigo-300 focus:border-indigo-500 transition duration-150">
                                            <option value="copper">Copper</option>
                                            <option value="aluminum">Aluminum</option>
                                        </select>
                                    </div>
                                    <div class="space-y-1">
                                        <label class="block text-xs font-semibold text-[#0058B3]">Overall Diameter (inches)</label>
                                        <input type="number" id="overallDiameter" step="0.001" placeholder="0.000"
                                               class="w-full p-2 border border-gray-300 rounded-lg focus:ring-4 focus:ring-indigo-300 focus:border-indigo-500 transition duration-150 shadow-inner text-sm">
                                    </div>
                                </div>

                                <div class="grid grid-cols-1 sm:grid-cols-2 gap-3">
                                    <div class="space-y-1">
                                        <label class="block text-xs font-semibold text-[#0058B3]">Insulation Material</label>
                                        <select id="insulationMaterial" class="w-full p-2 border border-gray-300 rounded-lg bg-white shadow-sm font-medium text-[#0058B3] text-sm focus:ring-4 focus:ring-indigo-300 focus:border-indigo-500 transition duration-150">
                                            <option value="xlpe">XLPE</option>
                                            <option value="pvc">PVC</option>
                                            <option value="rubber">Rubber</option>
                                        </select>
                                    </div>
                                    <div class="space-y-1">
                                        <label class="block text-xs font-semibold text-[#0058B3]">Insulation Thickness (mm)</label>
                                        <input type="number" id="insulationThickness" step="0.01" placeholder="0.00"
                                               class="w-full p-2 border border-gray-300 rounded-lg focus:ring-4 focus:ring-indigo-300 focus:border-indigo-500 transition duration-150 shadow-inner text-sm">
                                    </div>
                                </div>

                                <div class="grid grid-cols-1 sm:grid-cols-2 gap-3">
                                    <div class="space-y-1">
                                        <label class="block text-xs font-semibold text-[#0058B3]">Jacket Material</label>
                                        <select id="jacketMaterial" class="w-full p-2 border border-gray-300 rounded-lg bg-white shadow-sm font-medium text-[#0058B3] text-sm focus:ring-4 focus:ring-indigo-300 focus:border-indigo-500 transition duration-150">
                                            <option value="pvc">PVC</option>
                                            <option value="soow">SOOW</option>
                                            <option value="none">None</option>
                                        </select>
                                    </div>
                                    <div class="space-y-1">
                                        <label class="block text-xs font-semibold text-[#0058B3]">Jacket Thickness (mm)</label>
                                        <input type="number" id="jacketThickness" step="0.01" placeholder="0.00"
                                               class="w-full p-2 border border-gray-300 rounded-lg focus:ring-4 focus:ring-indigo-300 focus:border-indigo-500 transition duration-150 shadow-inner text-sm">
                                    </div>
                                </div>

                                <div class="grid grid-cols-1 sm:grid-cols-2 gap-3">
                                    <div class="space-y-1">
                                        <label class="block text-xs font-semibold text-[#0058B3]">Armor Material</label>
                                        <select id="armorMaterial" class="w-full p-2 border border-gray-300 rounded-lg bg-white shadow-sm font-medium text-[#0058B3] text-sm focus:ring-4 focus:ring-indigo-300 focus:border-indigo-500 transition duration-150">
                                            <option value="steel">Steel</option>
                                            <option value="aluminum">Aluminum</option>
                                            <option value="none">None</option>
                                        </select>
                                    </div>
                                    <div class="space-y-1">
                                        <label class="block text-xs font-semibold text-[#0058B3]">Armor Thickness (inches)</label>
                                        <input type="number" id="armorThickness" step="0.001" placeholder="0.000"
                                               class="w-full p-2 border border-gray-300 rounded-lg focus:ring-4 focus:ring-indigo-300 focus:border-indigo-500 transition duration-150 shadow-inner text-sm">
                                    </div>
                                </div>
                            </div>

                            <div class="shadow-md rounded-lg p-3 bg-blue-50 border-l-4 border-[#0058B3]">
                                <p class="text-xs text-[#0058B3] font-medium">üî¨ Advanced settings allow custom component specifications for precise engineering calculations and material property overrides.</p>
                            </div>
                        </div>
                    </div>

                </div>
            </div>

            <!-- Right Column: Results & Errors (UPDATED) -->
            <div class="mt-8 lg:mt-4">

                <!-- Weight Result Display (UPDATED STRUCTURE) -->
                <div id="weightResultContainer" class="p-4 bg-white border-l-8 card-border-blue rounded-xl shadow-xl text-center">

                    <!-- TOTAL SHIPMENT WEIGHT (New Primary Focus) -->
                    <p class="text-sm font-medium mb-1 text-gray-700">Total Shipment Weight (Wire + Reel + Skid)</p>
                    <p id="totalShipmentWeightLbs" class="text-4xl font-extrabold mt-1 text-red-600">0.0 lbs</p>
                    <p id="totalShipmentWeightKg" class="text-md font-semibold mt-1 text-red-400"></p>

                    <div class="mt-4 pt-2 border-t border-gray-200">
                        <!-- WIRE WEIGHT (Secondary) -->
                        <p class="text-sm font-medium mb-1 text-[#0058B3]">Estimated Wire Weight Only</p>
                        <p id="totalWireWeightLbs" class="text-2xl font-bold mt-1 text-[#0058B3]">0.0 lbs</p>
                        <p id="totalWireWeightKg" class="text-sm font-semibold mt-1 text-gray-700"></p>
                    </div>

                    <div id="unitWeightContainer" class="mt-3 pt-2 border-t border-gray-200">
                        <p id="unitWeightText" class="text-xs font-semibold mb-1 text-gray-700">Unit Weight (Approx.)</p>
                        <p id="unitWeightValue" class="text-lg font-bold text-blue-700">--</p>
                    </div>

                    <p class="text-xs text-gray-700 mt-2">Weight calculations use a standard conversion factor.</p>

                    <!-- Print Button -->
                    <div class="mt-4 flex justify-center">
                        <button id="printResultsBtn" class="px-4 py-2 bg-[#0058B3] text-white font-bold rounded-xl shadow-lg transition duration-200 ease-in-out transform hover:bg-[#004a99] active:scale-[0.98] focus:outline-none focus:ring-4 focus:ring-[#0058B3] focus:ring-opacity-50 text-sm">
                            Print Results
                        </button>
                    </div>
                </div>

                <!-- Error Message -->
                <div id="errorBox" class="mt-3 p-2 bg-red-100 border-l-4 border-red-500 text-red-700 rounded-lg hidden shadow-md">
                    <p class="font-medium text-sm">Input Error:</p>
                    <p id="errorMessage" class="text-xs"></p>
                </div>
            </div>

        </div>

        <!-- Footer inside main box -->
        <div class="mt-auto pt-4 border-t border-blue-200 hidden sm:block">
            <div class="flex justify-between items-center mb-2">
                <div class="flex space-x-3">
                    <a href="../index/index.html" class="px-3 py-1.5 bg-blue-600 border-2 border-blue-600 text-white font-bold rounded-xl shadow-lg transition duration-200 ease-in-out transform hover:bg-blue-700 hover:scale-[1.02] active:scale-[0.98] focus:outline-none focus:ring-4 focus:ring-blue-600 focus:ring-opacity-50 text-xs no-underline">üè† Home</a>
                    <a
                        id="usefulBtnInside"
                        href="../useful-tool/useful-tool.html"
                        class="px-3 py-1.5 bg-sky-500 border-2 border-sky-500 text-white font-bold rounded-xl shadow-lg transition duration-200 ease-in-out transform hover:bg-sky-600 active:scale-[0.98] focus:outline-none focus:ring-4 focus:ring-sky-500 focus:ring-opacity-50 text-xs no-underline"
                    >
                        Is This Tool Useful?
                    </a>
                </div>
                <p class="text-xs text-gray-500 font-mono select-none">v0.8.0.2</p>
            </div>
            <p class="font-medium text-[#0058B3] text-center select-none mb-1">
                Made With ‚ù§Ô∏è By: Lucas and Cline ü§ñ
            </p>
            <p class="text-xs font-semibold header-gradient text-center select-none">
                EECOL Wire Tools 2025 - Enterprise Edition
            </p>
        </div>

        <!-- Credits Tool -->
        <div id="creditsTool" class="space-y-6 hidden">
            <h2 class="text-xl font-bold text-gray-800 border-b pb-2">Credits & Feedback</h2>

            <section>
                <h3 class="text-lg font-bold text-[#0058B3] mb-2">Did You Find This Tool Useful?</h3>
                <p class="text-sm text-gray-700 mb-4">
                    If you found this tool helpful, please let me know! Send an email to Lucas Kara from the Langley Main Branch at <a href="mailto:lucas.kara@eecol.com" class="text-[#0058B3] underline">lucas.kara@eecol.com</a> or message him on Teams to share your feedback.
                </p>
            </section>

            <section>
                <h3 class="text-lg font-bold text-[#0058B3] mb-2">Why I Made This Tool</h3>
                <p class="text-sm text-gray-700">
                    The Wire Weight Calculator Tool was developed to streamline operational efficiency and eliminate common pain points within our wire handling processes. This solution addresses specific challenges in weight estimation, material management, and operational planning.
                </p>
            </section>

            <div class="pt-4">
                <button id="backToToolBtn" class="px-4 py-2 bg-[#0058B3] text-white font-bold rounded-xl shadow-lg transition duration-200 ease-in-out transform hover:bg-[#004a99] active:scale-[0.98] focus:outline-none focus:ring-4 focus:ring-[#0058B3] focus:ring-opacity-50 text-sm">
                    Back to Tool
                </button>
            </div>
        </div>

        <!-- End Tool Layout Container -->
    </div>

    <script src="../../assets/js/wire-weight-estimator.js"></script>
</body>
</html>
